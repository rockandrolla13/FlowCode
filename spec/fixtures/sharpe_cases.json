{
  "description": "Golden test cases for Sharpe ratio calculation",
  "spec_section": "§3.1",
  "formula": "Sharpe = (μ_r - r_f) / σ_r * √252",
  "cases": [
    {
      "name": "positive_sharpe",
      "input": {
        "returns": [0.01, 0.02, 0.01, 0.015, 0.005],
        "risk_free_rate": 0.0,
        "annualize": true
      },
      "expected": 33.41,
      "tolerance": 0.01,
      "note": "μ=0.012, σ=0.0057, Sharpe = 0.012/0.0057 * √252 = 33.41"
    },
    {
      "name": "negative_sharpe",
      "input": {
        "returns": [-0.01, -0.02, -0.01, -0.015, -0.005],
        "risk_free_rate": 0.0,
        "annualize": true
      },
      "expected": -33.41,
      "tolerance": 0.01
    },
    {
      "name": "with_risk_free",
      "input": {
        "returns": [0.01, 0.02, 0.01, 0.015, 0.005],
        "risk_free_rate": 0.0001,
        "annualize": true
      },
      "expected": 33.14,
      "tolerance": 0.01,
      "note": "Sharpe slightly lower due to risk-free subtraction"
    },
    {
      "name": "zero_volatility",
      "input": {
        "returns": [0.01, 0.01, 0.01, 0.01, 0.01],
        "risk_free_rate": 0.0,
        "annualize": true
      },
      "expected": null,
      "note": "Returns NaN when volatility is zero"
    },
    {
      "name": "mixed_returns",
      "input": {
        "returns": [0.02, -0.01, 0.03, -0.02, 0.01],
        "risk_free_rate": 0.0,
        "annualize": true
      },
      "expected": 4.59,
      "tolerance": 0.01,
      "note": "μ=0.006, σ=0.0207, Sharpe = 0.006/0.0207 * √252 = 4.59"
    },
    {
      "name": "insufficient_data",
      "input": {
        "returns": [0.01],
        "risk_free_rate": 0.0,
        "annualize": true
      },
      "expected": null,
      "note": "Need at least 2 data points"
    }
  ]
}
