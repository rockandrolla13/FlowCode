{
  "description": "Test cases for Value at Risk",
  "spec_section": "§4.2",
  "formula": "VaR_α = -quantile(returns, α)",
  "note": "VaR is positive loss magnitude",
  "cases": [
    {
      "name": "simple_var_95",
      "input": {
        "returns": [-0.05, -0.04, -0.03, -0.02, -0.01, 0.00, 0.01, 0.02, 0.03, 0.04,
                    0.05, -0.03, -0.02, 0.01, 0.02, 0.03, -0.01, 0.00, 0.01, 0.02],
        "confidence": 0.95
      },
      "expected": 0.0405,
      "tolerance": 0.001,
      "note": "VaR = -quantile(returns, 0.05) = 0.0405"
    },
    {
      "name": "var_is_positive",
      "input": {
        "returns": [-0.05, -0.03, -0.01, 0.01, 0.03],
        "confidence": 0.80
      },
      "expected": 0.034,
      "tolerance": 0.001,
      "note": "VaR is positive loss magnitude"
    },
    {
      "name": "higher_confidence_larger_var",
      "input": {
        "returns": [-0.10, -0.05, -0.03, -0.01, 0.01, 0.03, 0.05, 0.07, 0.09, 0.10],
        "confidence_low": 0.90,
        "confidence_high": 0.99
      },
      "expected_low": 0.055,
      "expected_high": 0.0955,
      "tolerance": 0.001,
      "note": "99% VaR > 90% VaR (larger loss threshold)"
    },
    {
      "name": "empty_returns",
      "input": {
        "returns": [],
        "confidence": 0.95
      },
      "expected": null
    }
  ]
}
