{
  "description": "Test cases for retail order imbalance calculation",
  "spec_section": "§1.2",
  "formula": "I_t = (ΣBuy - ΣSell) / (ΣBuy + ΣSell)",
  "cases": [
    {
      "name": "all_buys",
      "input": {"buy_volume": 1000.0, "sell_volume": 0.0},
      "expected": 1.0,
      "note": "Maximum bullish imbalance"
    },
    {
      "name": "all_sells",
      "input": {"buy_volume": 0.0, "sell_volume": 1000.0},
      "expected": -1.0,
      "note": "Maximum bearish imbalance"
    },
    {
      "name": "balanced",
      "input": {"buy_volume": 500.0, "sell_volume": 500.0},
      "expected": 0.0,
      "note": "Equal buy/sell volume"
    },
    {
      "name": "slight_buy_bias",
      "input": {"buy_volume": 600.0, "sell_volume": 400.0},
      "expected": 0.2,
      "note": "(600-400)/(600+400) = 200/1000 = 0.2"
    },
    {
      "name": "slight_sell_bias",
      "input": {"buy_volume": 400.0, "sell_volume": 600.0},
      "expected": -0.2
    },
    {
      "name": "zero_volume",
      "input": {"buy_volume": 0.0, "sell_volume": 0.0},
      "expected": null,
      "note": "Division by zero returns NaN"
    },
    {
      "name": "small_volumes",
      "input": {"buy_volume": 1.0, "sell_volume": 3.0},
      "expected": -0.5,
      "note": "(1-3)/(1+3) = -2/4 = -0.5"
    }
  ]
}
